# 三方向情报系统架构设计

> 创建时间: 2026-02-25
> 版本: v1.0

## 📊 系统概述

一个轻量级的智能情报系统，从三个维度抓取高价值信息：

```
┌─────────────────────────────────────────────────────────┐
│                    情报中心                              │
├─────────────┬─────────────┬─────────────────────────────┤
│ 🪙 币圈价值  │ 🤖 AI 价值   │ 📝 币安内容参考             │
│ 信息        │ 信息        │                             │
├─────────────┼─────────────┼─────────────────────────────┤
│ • 价格异动  │ • 模型更新  │ • 吃瓜类                    │
│ • 爆仓大户  │ • 工具发布  │ • 交易观点类                │
│ • 项目融资  │ • 行业融资  │ • 项目动态类                │
│ • 监管政策  │ • 技术突破  │ • 热点板块类                │
│ • 链上数据  │ • 市场动态  │                            │
└─────────────┴─────────────┴─────────────────────────────┘
```

## 🎯 设计理念

### 三种信息流

| 方向 | 目标用户 | 价值主张 | 更新频率 |
|------|----------|----------|----------|
| **币圈价值信息** | 加密货币投资者、交易员 | 发现投资机会，规避风险 | 4H |
| **AI 价值信息** | AI 从业者、技术爱好者 | 跟踪行业前沿，把握趋势 | 4H |
| **币安内容参考** | 币安广场 KOL | 获取可发布内容素材 | 4H |

### 信息流转

```
┌─────────────────────────────────────────────────────────┐
│                      数据源                              │
│  • Web 搜索（实时资讯）                                  │
│  • RSS Feed（博客、新闻）                                │
│  • Twitter/X（KOL 动态）                                │
│  • GitHub（代码仓库）                                    │
└────────────────────────┬────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────┐
│                   AI 处理层                              │
│  • Grok API (grok-4.20-beta)                            │
│  • 内容筛选                                             │
│  • 智能打分                                             │
│  • 格式转换                                             │
└────────────────────────┬────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────┐
│                   输出层                                 │
│  • Markdown 文件（保存到 vault）                         │
│  • JSON API（程序化访问）                                │
│  • RSS Feed（订阅）                                     │
│  • Web Dashboard（可视化）                              │
└─────────────────────────────────────────────────────────┘
```

## 🧩 核心组件

### 1. Skills

#### crypto-intel (币圈价值信息情报官)

**路径**: `~/.claude/skills/crypto-intel/`

**功能**:
- 抓取 BTC/ETH 价格异动
- 追踪大户爆仓、清算
- 监控项目融资、上币
- 收集监管政策动态
- 分析链上数据变化

**输入**:
```javascript
{
  timeframe: '4h',  // 1h, 4h, 24h, 7d
  types: ['price', 'liquidation', 'funding', 'regulation', 'onchain'],
  maxResults: 15
}
```

**输出**:
```markdown
# 币圈价值信息日报 - 2026-02-25 14:00

## 📊 价格异动
### BTC 跌破 $65K 关键支撑
...

## 💥 爆仓大户
### 24H 爆仓 $4.21 亿
...
```

---

#### ai-intel (AI 价值信息情报官)

**路径**: `~/.claude/skills/ai-intel/`

**功能**:
- 追踪 AI 模型更新（GPT、Claude、Llama）
- 发现新 AI 工具发布
- 监控 AI 行业融资
- 收集技术突破论文
- 分析市场竞争动态

**输入**:
```javascript
{
  timeframe: '4h',
  types: ['model', 'tool', 'funding', 'research', 'market'],
  maxResults: 15
}
```

**输出**:
```markdown
# AI 价值信息日报 - 2026-02-25 14:00

## 🧠 模型更新
### Anthropic 发布 Claude 4
...

## 🛠️ 工具发布
### OpenAI 推出 o1-mini
...
```

---

#### binance-content (币安内容参考生成器)

**路径**: `~/.claude/skills/binance-content/`

**功能**:
- 汇总 crypto-intel 和 ai-intel 的原始信息
- 转换为币安广场可发布格式
- 按类型分组（吃瓜/交易/项目/热点）
- 提供发布策略建议

**输入**:
```javascript
{
  contentTypes: ['gossip', 'trading', 'project', 'trending'],
  countPerType: 3,
  includeStrategy: true
}
```

**输出**:
```markdown
# 币安广场内容参考 - 2026-02-25

## 🍉 吃瓜类 (3条)
### BTC一日暴跌12%！
...

## 📊 交易观点类 (2条)
### 市场极度恐惧！
...
```

---

### 2. 通用工具模块

#### AI 调用模块 (`lib/ai-client.mjs`)

```javascript
/**
 * 统一的 AI 调用接口
 */
export async function callAI(prompt, options = {}) {
  const {
    model = 'grok-4.20-beta',
    temperature = 0.7,
    maxTokens = 4000
  } = options;

  // 调用 New API
  const response = await fetch('https://api.newapi.ai/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${API_KEY}`
    },
    body: JSON.stringify({
      model,
      messages: [{ role: 'user', content: prompt }],
      temperature,
      max_tokens: maxTokens
    })
  });

  return response.json();
}
```

#### 评分模块 (`lib/scorer.mjs`)

```javascript
/**
 * 内容质量评分
 */
export function scoreContent(item, type) {
  const scorers = {
    crypto: scoreCryptoContent,
    ai: scoreAIContent,
    binance: scoreBinanceContent
  };

  return scorers[type](item);
}

function scoreCryptoContent(item) {
  let score = 0;

  // 热度关键词
  const hotKeywords = ['爆仓', '暴跌', '清算'];
  hotKeywords.forEach(kw => {
    if (item.content.includes(kw)) score += 20;
  });

  // 金额权重
  if (item.content.includes('$100M')) score += 15;

  return score;
}
```

---

### 3. Web Dashboard (可选)

如果需要可视化界面，可以创建一个简单的 Web Dashboard：

**技术栈**:
- 后端: Node.js + Express
- 前端: 纯 HTML + CSS + JavaScript
- 数据库: SQLite

**页面结构**:

```
┌─────────────────────────────────────────────────┐
│  📊 情报中心                     [刷新] [设置]   │
├─────────────┬─────────────┬─────────────────────┤
│ [币圈] [AI] │  时间范围:  │  [4H] [24H] [7D]    │
├─────────────┴─────────────┼─────────────────────┤
│                                     │
│  ┌─ 币圈价值信息 ─────────────────┐  │
│  │ 📊 价格异动 (2)                 │  │
│  │ 💥 爆仓大户 (3)                 │  │
│  │ 🚀 项目动态 (4)                 │  │
│  │ ⚖️ 监管政策 (1)                 │  │
│  │ 📈 链上数据 (2)                 │  │
│  └─────────────────────────────────┘  │
│                                     │
│  ┌─ AI 价值信息 ───────────────────┐  │
│  │ 🧠 模型更新 (2)                 │  │
│  │ 🛠️ 工具发布 (3)                 │  │
│  │ 💰 行业融资 (2)                 │  │
│  │ 🔬 技术突破 (1)                 │  │
│  │ 📊 市场动态 (2)                 │  │
│  └─────────────────────────────────┘  │
│                                     │
│  ┌─ 币安内容参考 ─────────────────┐  │
│  │ 🍉 吃瓜类 (3)                  │  │
│  │ 📊 交易观点类 (2)              │  │
│  │ 🚀 项目动态类 (2)              │  │
│  │ 🔥 热点板块类 (1)              │  │
│  └─────────────────────────────────┘  │
└─────────────────────────────────────┘
```

---

## 📁 文件结构

```
~/.claude/skills/
├── crypto-intel/
│   ├── SKILL.md
│   ├── index.mjs
│   └── README.md
├── ai-intel/
│   ├── SKILL.md
│   ├── index.mjs
│   └── README.md
├── binance-content/
│   ├── SKILL.md
│   ├── index.mjs
│   └── README.md
└── lib/
    ├── ai-client.mjs
    ├── scorer.mjs
    └── config.mjs
```

Vault 中的输出文件：

```
Web 3.0/机会方向/币安内容挖矿/
├── 币圈价值信息-YYYYMMDD-HHMM.md
├── AI价值信息-YYYYMMDD-HHMM.md
└── 币安内容参考-YYYYMMDD-HHMM.md
```

---

## 🚀 使用流程

### 方式 1: 通过 Skill 直接调用

```bash
# 获取币圈价值信息
skill: crypto-intel 抓取过去4小时的币圈资讯

# 获取 AI 价值信息
skill: ai-intel 抓取过去24小时的AI动态

# 生成币安内容
skill: binance-content 生成今天的币安广场内容
```

### 方式 2: 通过定时任务

```bash
# 添加到 crontab
0 */4 * * * skill crypto-intel timeframe=4h
0 */4 * * * skill ai-intel timeframe=4h
0 */4 * * * skill binance-content
```

### 方式 3: 通过 Web Dashboard

访问 `http://localhost:3000`，点击对应按钮即可。

---

## 🔧 配置

所有 Skills 共享相同的 API 配置（位于 `Web 3.0/机会方向/币安内容挖矿/.env`）：

```bash
GROK_API_KEY=sk-CuYnhTvEMxqboRLIjCkHeu2Jb5l0xoCTsHy6iZBb6UDOCDBX
GROK_API_ENDPOINT=https://api.newapi.ai/v1
GROK_API_MODEL=grok-4.20-beta
```

---

## 📈 未来扩展

### Phase 1: 当前实现
- ✅ 三个独立 Skills
- ✅ 基于 Grok API
- ✅ Markdown 输出

### Phase 2: 增强
- ⏳ Web Dashboard
- ⏳ RSS Feed 输出
- ⏳ 历史数据存储
- ⏳ 数据可视化

### Phase 3: 自动化
- ⏳ 定时任务自动运行
- ⏳ 自动发布到币安广场
- ⏳ 智能内容推荐
- ⏳ A/B 测试

---

## 📚 相关文章

- [[../币安内容挖矿/A8干货]] - 币安广场内容挖矿教程
- [[../币安内容挖矿/参与策略]] - 实施策略
- [[../币安内容挖矿/Grok定时任务提示词-可直接复制版]] - 提示词参考
- [[参与策略]] - 本项目的参与策略
